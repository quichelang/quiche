# Functional & Lambda Tests
from lib.test import assert_eq

def test_basic_lambda():
    print("Running test_basic_lambda...")
    # Inline lambda call
    res: i32 = (lambda x: x + 1)(10)
    assert_eq(res, 11, "Basic lambda call")

def test_lambda_assignment():
    print("Running test_lambda_assignment...")
    add = lambda a, b: a + b
    res: i32 = add(5, 7)
    assert_eq(res, 12, "Assigned lambda call")

def test_higher_order():
    print("Running test_higher_order...")
    # Testing passing lambda to map() is hard without Traits, 
    # but we can simulate locally.
    double = lambda x: x * 2
    res: i32 = double(4)
    assert_eq(res, 8, "Higher order sim")

def main():
    print("=== Functional Suite ===")
    test_basic_lambda()
    test_lambda_assignment()
    test_higher_order()
    print("=== Done ===")
